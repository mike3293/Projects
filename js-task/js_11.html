<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="https://code.jquery.com/qunit/qunit-2.9.2.css">
</head>

<body>
    <div id="qunit"></div>
    <div id="qunit-fixture"></div>
    <script src="https://code.jquery.com/qunit/qunit-2.9.2.js"></script>
    <script>
        QUnit.test("lazy", function(assert) {

            const factorial = n => {
                if (n > 1) {
                    return n * factorial(n - 1);
                }
                return n;
            }
            const memoFactorial = memo(factorial);

            assert.ok(typeof memoFactorial === "function", "memoFactorial is a function");
            assert.equal(memoFactorial(5), 120, "memoFactorial(5) return 120");
            // assert.ok(memoFactorial(10000), "to runtime compare with 2");
        });

        function memo(foo) {
            const storage = {};
            return function(n) {
                if (n in storage) {
                    return storage[n];
                } else {
                    let result = foo(n);
                    storage[n] = result;
                    return result;
                }
            }
        }
    </script>
</body>

</html>